import{r as t,j as e,k as v,l as I}from"./index-BvsflS20.js";import{C as k,a as y,b as A,c as U,d as R}from"./CModalTitle-CYSRJgvB.js";import{a as T,C as M}from"./CForm-CuLN5-Z9.js";import{C as V}from"./CFormSelect-CyIqFkLT.js";import{C as h}from"./CFormInput-D-QpqIGP.js";import{a as L}from"./CButton-sMMNJB_b.js";import{C as F,a as q,b as H,c as P}from"./CAccordionHeader-D9cC9iKU.js";import{C as B,a as E,b,c as u,d as W,e as p}from"./CTable-BbYSjW3x.js";import"./index-Dioz8Q41.js";const N="http://localhost:5057",w=I.create({baseURL:N}),_=({visible:c,onClose:a,onAdd:x})=>{const[d,g]=t.useState(!1),[j,l]=t.useState(null),[i,f]=t.useState({vehicleId:"",pickUpLocation:"",warehouseLocation:"",scheduledDate:new Date().toISOString().split("T")[0],weight:""}),[m,D]=t.useState([]);t.useEffect(()=>{(async()=>{try{const o=await w.get("/api/v1/receiving/vehicles-in-use");D(o.data.data)}catch(o){l(o.message)}})()},[]);const r=s=>{f({...i,[s.target.name]:s.target.value})},S=async s=>{var o,C;s.preventDefault(),g(!0),l(null);try{const n=await w.post("/api/v1/receiving/add",i);n.data.success?(x(),a()):l(n.data.message)}catch(n){l(((C=(o=n.response)==null?void 0:o.data)==null?void 0:C.message)||n.message)}finally{g(!1)}};return e.jsxs(k,{visible:c,onClose:a,children:[e.jsx(y,{children:e.jsx(A,{children:"Add Receiving Schedule"})}),e.jsxs(U,{children:[j&&e.jsx(T,{color:"danger",children:j}),e.jsxs(M,{onSubmit:S,children:[e.jsxs(V,{name:"vehicleId",value:i.vehicleId,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Select Vehicle"}),m&&m.length>0?m.map(s=>e.jsxs("option",{value:s._id,children:[s.brand," - ",s.model," - ",s.regisNumber]},s._id)):e.jsx("option",{disabled:!0,children:"No vehicles available"})]}),e.jsx(h,{type:"text",name:"pickUpLocation",placeholder:"Pick Up Location",value:i.pickUpLocation,onChange:r,required:!0}),e.jsx(h,{type:"text",name:"warehouseLocation",placeholder:"Warehouse Location",value:i.warehouseLocation,onChange:r,required:!0}),e.jsx(h,{type:"date",name:"scheduledDate",placeholder:"Scheduled Date",value:i.scheduledDate,onChange:r,required:!0}),e.jsx(h,{type:"number",name:"weight",placeholder:"Weight",value:i.weight,onChange:r,required:!0}),e.jsxs(R,{children:[e.jsx(L,{color:"secondary",onClick:a,disabled:d,children:d?e.jsx(v,{size:"sm"}):"Cancel"}),e.jsx(L,{type:"submit",color:"primary",disabled:d,children:d?e.jsx(v,{size:"sm"}):"Add"})]})]})]})]})},z=()=>{const c=[{id:1,vehicleId:1,pickUpLocation:"New York",warehouseLocation:"Los Angeles",scheduledDate:"2022-10-10",weight:1e3},{id:2,vehicleId:2,pickUpLocation:"Miami",warehouseLocation:"Dallas",scheduledDate:"2022-10-11",weight:2e3},{id:3,vehicleId:3,pickUpLocation:"Chicago",warehouseLocation:"Houston",scheduledDate:"2022-10-12",weight:3e3},{id:4,vehicleId:4,pickUpLocation:"Phoenix",warehouseLocation:"Philadelphia",scheduledDate:"2022-10-13",weight:4e3},{id:5,vehicleId:5,pickUpLocation:"San Antonio",warehouseLocation:"San Diego",scheduledDate:"2022-10-14",weight:5e3}];return e.jsx(F,{children:c.map(a=>e.jsxs(q,{children:[e.jsxs(H,{children:["Vehicle ID: ",a.vehicleId]}),e.jsx(P,{children:e.jsxs(B,{striped:!0,children:[e.jsx(E,{children:e.jsxs(b,{children:[e.jsx(u,{children:"Pick Up Location"}),e.jsx(u,{children:"Warehouse Location"}),e.jsx(u,{children:"Scheduled Date"}),e.jsx(u,{children:"Weight"})]})}),e.jsx(W,{children:e.jsxs(b,{children:[e.jsx(p,{children:a.pickUpLocation}),e.jsx(p,{children:a.warehouseLocation}),e.jsx(p,{children:a.scheduledDate}),e.jsx(p,{children:a.weight})]})})]})})]},a.id))})},ee=()=>{const[c,a]=t.useState(!1),x=()=>{};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Receiving Items"}),e.jsx("button",{onClick:()=>a(!0),children:"Add Receiving Schedule"}),e.jsx(_,{visible:c,onClose:()=>a(!1),onAdd:x}),e.jsx(z,{})]})};export{ee as default};
