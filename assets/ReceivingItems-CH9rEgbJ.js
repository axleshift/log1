import{r,j as e,k as j,l as y}from"./index-BBEm48r5.js";import{C as L,a as R,b as w,c as D,d as A}from"./CModalTitle-CZ3OTOtN.js";import{C as I}from"./CAlert-Bga4ouMq.js";import{C as k}from"./CForm-k5BgzlOr.js";import{C as F}from"./CFormSelect-EfnzwgcC.js";import{C as h}from"./CFormInput-BbYQYDRj.js";import{a as v}from"./CButton-TCw9WtOP.js";import"./index-BtNB1Ch_.js";const M="http://localhost:5057/",C=y.create({baseURL:M}),U=({visible:c,onClose:t,onAdd:u})=>{const[l,p]=r.useState(!1),[g,d]=r.useState(null),[s,f]=r.useState({vehicleId:"",pickUpLocation:"",warehouseLocation:"",scheduledDate:new Date().toISOString().split("T")[0],weight:""}),[m,b]=r.useState([]);r.useEffect(()=>{(async()=>{try{const i=await C.get("/api/v1/receiving/vehicles-in-use");b(i.data.data)}catch(i){d(i.message)}})()},[]);const o=a=>{f({...s,[a.target.name]:a.target.value})},S=async a=>{var i,x;a.preventDefault(),p(!0),d(null);try{const n=await C.post("/api/v1/receiving/add",s);n.data.success?(u(),t()):d(n.data.message)}catch(n){d(((x=(i=n.response)==null?void 0:i.data)==null?void 0:x.message)||n.message)}finally{p(!1)}};return e.jsxs(L,{visible:c,onClose:t,children:[e.jsx(R,{children:e.jsx(w,{children:"Add Receiving Schedule"})}),e.jsxs(D,{children:[g&&e.jsx(I,{color:"danger",children:g}),e.jsxs(k,{onSubmit:S,children:[e.jsxs(F,{name:"vehicleId",value:s.vehicleId,onChange:o,required:!0,children:[e.jsx("option",{value:"",children:"Select Vehicle"}),m&&m.length>0?m.map(a=>e.jsxs("option",{value:a._id,children:[a.brand," - ",a.model," - ",a.regisNumber]},a._id)):e.jsx("option",{disabled:!0,children:"No vehicles available"})]}),e.jsx(h,{type:"text",name:"pickUpLocation",placeholder:"Pick Up Location",value:s.pickUpLocation,onChange:o,required:!0}),e.jsx(h,{type:"text",name:"warehouseLocation",placeholder:"Warehouse Location",value:s.warehouseLocation,onChange:o,required:!0}),e.jsx(h,{type:"date",name:"scheduledDate",placeholder:"Scheduled Date",value:s.scheduledDate,onChange:o,required:!0}),e.jsx(h,{type:"number",name:"weight",placeholder:"Weight",value:s.weight,onChange:o,required:!0}),e.jsxs(A,{children:[e.jsx(v,{color:"secondary",onClick:t,disabled:l,children:l?e.jsx(j,{size:"sm"}):"Cancel"}),e.jsx(v,{type:"submit",color:"primary",disabled:l,children:l?e.jsx(j,{size:"sm"}):"Add"})]})]})]})]})},V=()=>{const[c,t]=r.useState([]);return e.jsx("div",{children:e.jsx("h1",{children:"Table Receiving"})})},W=()=>{const[c,t]=r.useState(!1),u=()=>{};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Receiving Items"}),e.jsx("button",{onClick:()=>t(!0),children:"Add Receiving Schedule"}),e.jsx(U,{visible:c,onClose:()=>t(!1),onAdd:u}),e.jsx(V,{})]})};export{W as default};
