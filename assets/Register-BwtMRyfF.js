import{r as d,k as f,j as e}from"./index-CWdSKaZl.js";import{b as j,c,a as g}from"./index.esm-I3MyHr4G.js";import{c as w,a as v}from"./axios-BI0fRWvS.js";import{C as b}from"./CRow-Do1s3mBd.js";import{C as y}from"./CCol-Ch1nzwaA.js";import{C as N,a as P}from"./CCardBody-B_TXCAdg.js";import{C as R}from"./CForm-BD4wwLBa.js";import{C as l,a as i}from"./CInputGroupText-DGBw2pey.js";import{C as n}from"./CFormInput-NOWUAkSq.js";import{c as x}from"./cil-lock-locked-DmxpJbVL.js";const q=()=>{const[s,o]=d.useState({name:"",email:"",password:"",repeatPassword:""}),[m,p]=d.useState(!1),[u,t]=d.useState(""),h=f(),C=a=>{if(a.preventDefault(),s.password!==s.repeatPassword){t("Passwords do not match");return}if(!s.name||!s.email||!s.password){t("All fields are required");return}p(!0),v.post("/api/users/register",s).then(r=>{console.log("Response data:",r.data),r.status>=200&&r.status<300?h("/login"):t(r.data.message)}).catch(r=>{console.log(r),t(r.message||"Registration failed")}).finally(()=>{p(!1)})};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(j,{children:e.jsx(b,{className:"justify-content-center",children:e.jsx(y,{md:9,lg:7,xl:6,children:e.jsx(N,{className:"mx-4",children:e.jsx(P,{className:"p-4",children:e.jsxs(R,{onSubmit:C,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),u&&e.jsx("p",{style:{color:"red"},children:u}),e.jsxs(l,{className:"mb-3",children:[e.jsx(i,{children:e.jsx(c,{icon:w})}),e.jsx(n,{placeholder:"Name",autoComplete:"off",id:"name",value:s.name,onChange:a=>o({...s,name:a.target.value})})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(i,{children:"@"}),e.jsx(n,{placeholder:"Email",autoComplete:"off",value:s.email,id:"email",onChange:a=>o({...s,email:a.target.value})})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(i,{children:e.jsx(c,{icon:x})}),e.jsx(n,{type:"password",placeholder:"Password",autoComplete:"off",value:s.password,id:"password",onChange:a=>o({...s,password:a.target.value})})]}),e.jsxs(l,{className:"mb-4",children:[e.jsx(i,{children:e.jsx(c,{icon:x})}),e.jsx(n,{type:"password",placeholder:"Repeat password",autoComplete:"off",id:"repeatPassword",value:s.repeatPassword,onChange:a=>o({...s,repeatPassword:a.target.value})})]}),e.jsx("div",{className:"d-grid",children:e.jsx(g,{color:"success",type:"submit",disabled:m,children:m?"Creating Account...":"Create Account"})})]})})})})})})})};export{q as default};
