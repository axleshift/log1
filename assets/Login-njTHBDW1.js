import{r as a,k as y,j as s}from"./index-CWdSKaZl.js";import{b,c,a as w}from"./index.esm-I3MyHr4G.js";import{a as m,c as N}from"./axios-BI0fRWvS.js";import{C as d}from"./CRow-Do1s3mBd.js";import{C as p}from"./CCol-Ch1nzwaA.js";import{C as v}from"./CCardGroup-DZ_30T5S.js";import{C as L,a as S}from"./CCardBody-B_TXCAdg.js";import{C as E}from"./CForm-BD4wwLBa.js";import{C as u,a as x}from"./CInputGroupText-DGBw2pey.js";import{C as h}from"./CFormInput-NOWUAkSq.js";import{c as I}from"./cil-lock-locked-DmxpJbVL.js";const $=()=>{const[o,C]=a.useState(),[t,j]=a.useState(),i=y(),[n,l]=a.useState(null),f=void 0;m.defaults.withCredentials=!0;const g=e=>{if(e.preventDefault(),!o||!t){l("Both fields are required.");return}m.post(`${f}/api/users/login`,{email:o,password:t}).then(r=>{r.data.Login?(r.data.email,i("/")):i("/login")}).catch(r=>{l(r.response.data.message)})};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(b,{children:s.jsx(d,{className:"justify-content-center",children:s.jsx(p,{md:4,sm:2,children:s.jsx(v,{children:s.jsx(L,{className:"p-4",children:s.jsx(S,{children:s.jsxs(E,{onSubmit:g,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),n&&s.jsx("p",{style:{color:"red"},children:n}),s.jsxs(u,{className:"mb-3",children:[s.jsx(x,{children:s.jsx(c,{icon:N})}),s.jsx(h,{type:"email",placeholder:"Email",autoComplete:"email",id:"email",onChange:e=>C(e.target.value)})]}),s.jsxs(u,{className:"mb-4",children:[s.jsx(x,{children:s.jsx(c,{icon:I})}),s.jsx(h,{type:"password",placeholder:"Password",autoComplete:"current-password",id:"password",onChange:e=>j(e.target.value)})]}),s.jsx(d,{children:s.jsx(p,{xs:6,children:s.jsx(w,{color:"primary",className:"px-4",type:"submit",children:"Login"})})})]})})})})})})})})};export{$ as default};
