import{r as a,j as e,k as C,m as v,B as b}from"./index-9q14rM7R.js";import{C as w,a as L,b as R,c as k,d as D}from"./CModalTitle-DFQUuEFe.js";import{C as A}from"./CAlert-BY32Zm3C.js";import{C as E}from"./CForm-CCEBrrPn.js";import{C as I}from"./CFormSelect-BJGzYABc.js";import{C as p}from"./CFormInput-CiLBdQhH.js";import{a as S}from"./CButton-BT1rWau9.js";import"./index-Dh_uSIGz.js";const F=({visible:c,onClose:n,onAdd:u})=>{const[o,g]=a.useState(!1),[l,d]=a.useState(null),[r,f]=a.useState({vehicleId:"",pickUpLocation:"",warehouseLocation:"",scheduledDate:new Date().toISOString().split("T")[0],weight:""}),[m,x]=a.useState([]);a.useEffect(()=>{(async()=>{try{const i=await v.get("/api/v1/receiving/vehicles-in-use");x(i.data.data)}catch(i){d(i.message)}})()},[]);const s=t=>{f({...r,[t.target.name]:t.target.value})},y=async t=>{var i,j;t.preventDefault(),g(!0),d(null);try{const h=await v.post("/api/v1/receiving/add",r);h.data.success?(u(),n()):d(h.data.message)}catch(h){d(((j=(i=h.response)==null?void 0:i.data)==null?void 0:j.message)||h.message)}finally{g(!1)}};return e.jsxs(w,{visible:c,onClose:n,children:[e.jsx(L,{children:e.jsx(R,{children:"Add Receiving Schedule"})}),e.jsxs(k,{children:[l&&e.jsx(A,{color:"danger",children:l}),e.jsxs(E,{onSubmit:y,children:[e.jsxs(I,{name:"vehicleId",value:r.vehicleId,onChange:s,required:!0,children:[e.jsx("option",{value:"",children:"Select Vehicle"}),m&&m.length>0?m.map(t=>e.jsxs("option",{value:t._id,children:[t.brand," - ",t.model," - ",t.regisNumber]},t._id)):e.jsx("option",{disabled:!0,children:"No vehicles available"})]}),e.jsx(p,{type:"text",name:"pickUpLocation",placeholder:"Pick Up Location",value:r.pickUpLocation,onChange:s,required:!0}),e.jsx(p,{type:"text",name:"warehouseLocation",placeholder:"Warehouse Location",value:r.warehouseLocation,onChange:s,required:!0}),e.jsx(p,{type:"date",name:"scheduledDate",placeholder:"Scheduled Date",value:r.scheduledDate,onChange:s,required:!0}),e.jsx(p,{type:"number",name:"weight",placeholder:"Weight",value:r.weight,onChange:s,required:!0}),e.jsxs(D,{children:[e.jsx(S,{color:"secondary",onClick:n,disabled:o,children:o?e.jsx(C,{size:"sm"}):"Cancel"}),e.jsx(S,{type:"submit",color:"primary",disabled:o,children:o?e.jsx(C,{size:"sm"}):"Add"})]})]})]})]})},M=()=>{const{showError:c,showSuccess:n}=b(),[u,o]=a.useState(!1),[g,l]=a.useState(null),[d,r]=a.useState([]),[f,m]=a.useState(""),x=async()=>{o(!0);try{const s=await v.get("https://log2_backend.chysev.com/api/v1/shipment");console.log(s.data),s.status===200&&(r(s.data),o(!1),l(null))}catch(s){l(s),c(s.response.data.message)}finally{o(!1)}};return a.useEffect(()=>{x()},[]),e.jsx("div",{children:e.jsx("h1",{children:"Table Receiving"})})},Q=()=>{const[c,n]=a.useState(!1),u=()=>{};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Receiving Items"}),e.jsx("button",{onClick:()=>n(!0),children:"Add Receiving Schedule"}),e.jsx(F,{visible:c,onClose:()=>n(!1),onAdd:u}),e.jsx(M,{})]})};export{Q as default};
