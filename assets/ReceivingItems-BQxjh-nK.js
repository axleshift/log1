import{r as t,j as e,k as v,m as C,A as y}from"./index-jWiBmu8-.js";import{C as w,a as L,b as R,c as A,d as D}from"./CModalTitle-CkxM7hWg.js";import{C as k}from"./CAlert-CKr1vkf5.js";import{C as I}from"./CForm-DQQY5nIp.js";import{C as E}from"./CFormSelect-DhJljt2p.js";import{C as m}from"./CFormInput-TzTNeUbA.js";import{a as f}from"./CButton-DkW0Zdgo.js";import"./index-CdB8wthX.js";const F=({visible:d,onClose:r,onAdd:u})=>{const[i,p]=t.useState(!1),[g,n]=t.useState(null),[a,x]=t.useState({vehicleId:"",pickUpLocation:"",warehouseLocation:"",scheduledDate:new Date().toISOString().split("T")[0],weight:""}),[h,S]=t.useState([]);t.useEffect(()=>{(async()=>{try{const o=await C.get("/api/v1/receiving/vehicles-in-use");S(o.data.data)}catch(o){n(o.message)}})()},[]);const c=s=>{x({...a,[s.target.name]:s.target.value})},b=async s=>{var o,j;s.preventDefault(),p(!0),n(null);try{const l=await C.post("/api/v1/receiving/add",a);l.data.success?(u(),r()):n(l.data.message)}catch(l){n(((j=(o=l.response)==null?void 0:o.data)==null?void 0:j.message)||l.message)}finally{p(!1)}};return e.jsxs(w,{visible:d,onClose:r,children:[e.jsx(L,{children:e.jsx(R,{children:"Add Receiving Schedule"})}),e.jsxs(A,{children:[g&&e.jsx(k,{color:"danger",children:g}),e.jsxs(I,{onSubmit:b,children:[e.jsxs(E,{name:"vehicleId",value:a.vehicleId,onChange:c,required:!0,children:[e.jsx("option",{value:"",children:"Select Vehicle"}),h&&h.length>0?h.map(s=>e.jsxs("option",{value:s._id,children:[s.brand," - ",s.model," - ",s.regisNumber]},s._id)):e.jsx("option",{disabled:!0,children:"No vehicles available"})]}),e.jsx(m,{type:"text",name:"pickUpLocation",placeholder:"Pick Up Location",value:a.pickUpLocation,onChange:c,required:!0}),e.jsx(m,{type:"text",name:"warehouseLocation",placeholder:"Warehouse Location",value:a.warehouseLocation,onChange:c,required:!0}),e.jsx(m,{type:"date",name:"scheduledDate",placeholder:"Scheduled Date",value:a.scheduledDate,onChange:c,required:!0}),e.jsx(m,{type:"number",name:"weight",placeholder:"Weight",value:a.weight,onChange:c,required:!0}),e.jsxs(D,{children:[e.jsx(f,{color:"secondary",onClick:r,disabled:i,children:i?e.jsx(v,{size:"sm"}):"Cancel"}),e.jsx(f,{type:"submit",color:"primary",disabled:i,children:i?e.jsx(v,{size:"sm"}):"Add"})]})]})]})]})},M=()=>{const{showError:d,showSuccess:r}=y(),[u,i]=t.useState(!1),[p,g]=t.useState(null),[n,a]=t.useState([]),[x,h]=t.useState("");return e.jsx("div",{children:e.jsx("h1",{children:"Table Receiving"})})},W=()=>{const[d,r]=t.useState(!1),u=()=>{};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Receiving Items"}),e.jsx("button",{onClick:()=>r(!0),children:"Add Receiving Schedule"}),e.jsx(F,{visible:d,onClose:()=>r(!1),onAdd:u}),e.jsx(M,{})]})};export{W as default};
