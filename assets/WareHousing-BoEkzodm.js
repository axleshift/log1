import{r as s,R as W,c as B,P as b,_ as z,a as V,u as re,T as Ne,B as J,j as e,k as $,A as E,D as ve}from"./index-BsAuDz7v.js";import{F as O,i as be,g as Ce,e as G,h as we,a as Ie}from"./index-DdzPpfT1.js";import{a as A,C as ne}from"./CForm-DJmgfv4a.js";import{a as R}from"./CButton-1aJwC6WA.js";import{C as oe,a as ie,b as ce,c as le,d as de}from"./CModalTitle-9RnGyc5_.js";import{C as H}from"./CFormInput-De0-5chn.js";import{C as me}from"./CFormTextarea-C0ahOwU_.js";import{C as ue}from"./CFormSelect-C2W4ju5D.js";import{C as q}from"./CContainer-D4HQE-qk.js";import{C as X,a as Y}from"./CInputGroupText-scgwoFmL.js";import{C as Se,a as Ae,b as ke,c as Te}from"./CAccordionHeader-C2ZL91sv.js";import{g as Le,C as D,a as Pe}from"./DefaultLayout-DeL5tmJy.js";import{C as he,a as fe,b as Q,c as L,d as xe,e as P}from"./CTable-CA166WLX.js";import{C as ye,a as K}from"./CPaginationItem-CeIFQBOh.js";import{g as Ee}from"./getTransitionDurationFromElement-Cpu4p4hx.js";import{C as ae}from"./CCard-BQgonU39.js";import"./index.esm-CMByg3QK.js";import"./1-DdutqShQ.js";import"./cil-user-Ddrdy7PS.js";var Z=s.createContext({}),ee=s.forwardRef(function(r,m){var g=r.children,x=r.activeItemKey,c=r.className,u=r.onChange,j=s.useId(),p=s.useState(x),y=p[0],o=p[1];return s.useEffect(function(){y&&u&&u(y)},[y]),W.createElement(Z.Provider,{value:{_activeItemKey:y,setActiveItemKey:o,id:j}},W.createElement("div",{className:B("tabs",c),ref:m},g))});ee.propTypes={activeItemKey:b.oneOfType([b.number,b.string]).isRequired,children:b.node,className:b.string,onChange:b.func};ee.displayName="CTabs";var _=s.forwardRef(function(r,m){var g=r.children,x=r.className,c=r.itemKey,u=z(r,["children","className","itemKey"]),j=s.useContext(Z),p=j._activeItemKey,y=j.setActiveItemKey,o=j.id,v=function(){return c===p};return W.createElement("button",V({className:B("nav-link",{active:v()},x),id:"".concat(o).concat(c,"-tab"),onClick:function(){return y(c)},onFocus:function(){return y(c)},role:"tab",tabIndex:v()?0:-1,type:"button","aria-controls":"".concat(o).concat(c,"-tab-pane"),"aria-selected":v(),ref:m},u),g)});_.propTypes={children:b.node,className:b.string,disabled:b.bool,itemKey:b.oneOfType([b.number,b.string]).isRequired};_.displayName="CTab";var M=s.forwardRef(function(r,m){var g=r.children,x=r.className,c=r.itemKey,u=r.onHide,j=r.onShow,p=r.transition,y=p===void 0?!0:p,o=r.visible,v=z(r,["children","className","itemKey","onHide","onShow","transition","visible"]),l=s.useContext(Z),w=l._activeItemKey,I=l.id,h=s.useRef(),a=re(m,h),d=s.useState(o||w===c),C=d[0],N=d[1];return s.useEffect(function(){o!==void 0&&N(o)},[o]),s.useEffect(function(){N(w===c)},[w]),W.createElement(Ne,{in:C,nodeRef:h,onEnter:j,onExit:u,timeout:h.current?Ee(h.current):0},function(n){return W.createElement("div",V({className:B("tab-pane",{active:C,fade:y,show:n==="entered"},x),id:"".concat(I).concat(c,"-tab-pane"),role:"tabpanel","aria-labelledby":"".concat(I).concat(c,"-tab"),tabIndex:0,ref:a},v),g)})});M.propTypes={children:b.node,className:b.string,itemKey:b.oneOfType([b.number,b.string]).isRequired,onHide:b.func,onShow:b.func,transition:b.bool,visible:b.bool};M.displayName="CTabPanel";var te=s.forwardRef(function(r,m){var g,x=r.children,c=r.className,u=r.layout,j=r.variant,p=z(r,["children","className","layout","variant"]),y=s.useRef(null),o=re(m,y),v=function(l){if(y.current!==null&&(l.key==="ArrowDown"||l.key==="ArrowUp"||l.key==="ArrowLeft"||l.key==="ArrowRight"||l.key==="Home"||l.key==="End")){l.preventDefault();var w=l.target,I=Array.from(y.current.querySelectorAll(".nav-link:not(.disabled):not(:disabled)")),h=void 0;l.key==="Home"||l.key==="End"?h=l.key==="End"?I.at(-1):I[0]:h=Le(I,w,l.key==="ArrowDown"||l.key==="ArrowRight",!0),h&&h.focus({preventScroll:!0})}};return W.createElement("div",V({className:B("nav",(g={},g["nav-".concat(u)]=u,g["nav-".concat(j)]=j,g),c),role:"tablist",onKeyDown:v,ref:o},p),x)});te.propTypes={children:b.node,className:b.string,layout:b.oneOf(["fill","justified"]),variant:b.oneOf(["pills","tabs","underline","underline-border"])};te.displayName="CTabList";const qe=({warehousing:r,onDeleteItem:m})=>{const{showError:g,showSuccess:x}=J(),[c,u]=s.useState(null),[j,p]=s.useState(!1),y=async()=>{p(!0);const o=await E.delete(`/api/v1/warehouse/delete/${r._id}`);o.data.success?(x(o.data.message),m(r._id),p(!1)):(p(!1),u(o.data.message),g(o.data.message))};return c?e.jsxs(A,{color:"danger",className:"text-center mt-5 w-75 mx-auto",children:["Error: ",c.message]}):e.jsx(e.Fragment,{children:e.jsx(R,{color:"danger",variant:"outline",onClick:y,className:"me-2",children:j?e.jsx($,{size:"sm"}):e.jsx(O,{icon:be})})})},Re=({warehousing:r,onUpdateItem:m})=>{const{showSuccess:g,showErrors:x}=J(),[c,u]=s.useState(null),[j,p]=s.useState(!1),[y,o]=s.useState(null),[v,l]=s.useState(!1),[w,I]=s.useState([]),h=new Date().toISOString().split("T")[0],[a,d]=s.useState({from:r.from,items:r.items,dateArrival:h,warehouse:r.warehouse,status:r.status});s.useEffect(()=>{(async()=>{try{const t=await E.get("/api/v1/warehouseLoc/locations");I(t.data.data)}catch(t){u(t.response.data.message),x(t.response.data.message)}})()},[]);const C=n=>{const{id:t,value:i}=n.target;d(f=>{if(["length","width","height"].includes(t)){const S=i===""?"":Math.max(1,Number(i));return{...f,[t]:S}}if(t==="items"){const S=JSON.parse(i);return{...f,items:S}}return{...f,[t]:i}})},N=async n=>{n.preventDefault();const i=JSON.parse(sessionStorage.getItem("user")).email;if(!i){u("User email not found. Please log in again.");return}p(!0);try{const f=await E.put(`/api/v1/warehouse/update/${r._id}`,{...a,byReceived:i});if(f.data.success){const S=f.data.data,T=w.find(F=>F._id===S.warehouse);S.warehouse=T,g(f.data.message),m(f.data.data),setTimeout(()=>{o(null),l(!1)},2e3)}}catch(f){u(f.response.data.message),x(f.response.data.message),setTimeout(()=>{u(null)},2e3)}p(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(R,{color:"primary",variant:"outline",className:"me-2",onClick:()=>l(!0),children:j?e.jsx($,{size:"sm"}):e.jsx(O,{icon:Ce})}),e.jsxs(oe,{visible:v,onClose:()=>l(!1),children:[e.jsx(ie,{children:e.jsx(ce,{children:"Recieved Items"})}),c&&e.jsx(A,{color:"danger",children:c}),y&&e.jsx(A,{color:"success",children:y}),e.jsx(le,{children:e.jsxs(ne,{children:[e.jsx(H,{type:"text",placeholder:"From",className:"mb-3",floatingLabel:"From",id:"from",onChange:C,value:a.from,required:!0,readOnly:!0}),e.jsx(me,{placeholder:"Items List",className:"mb-3 justify-content-center h-50",floatingLabel:"Items List",id:"items",rows:5,value:Array.isArray(a.items)?a.items.map((n,t)=>`${t+1}. ${n.itemName} (Quantity: ${n.quantity})`).join(`
`):a.items,readOnly:!0}),e.jsxs(ue,{placeholder:"Warehouse",className:"mb-3",floatingLabel:"Warehouse",id:"warehouse",onChange:C,value:a.warehouse._id,required:!0,children:[e.jsx("option",{value:null,children:"Select Warehouse"}),w.map(n=>e.jsx("option",{value:n._id,children:n.warehouseName},n._id))]})]})}),e.jsxs(de,{children:[e.jsx(R,{color:"secondary",variant:"outline",onClick:()=>l(!1),children:"Close"}),e.jsx(R,{color:"primary",variant:"outline",onClick:N,children:"Update Item"})]})]})]})},Fe=({warehousing:r,loading:m,error:g,onDeleteItem:x,onUpdateItem:c})=>{const[u,j]=s.useState([]),[p,y]=s.useState(null),[o,v]=s.useState(""),l=ve(),w=["manager","admin"];s.useEffect(()=>{const a=setTimeout(()=>{try{if(!o.trim()){j(r),y(null);return}const d=o.toLowerCase().trim(),C=r.filter(N=>N.PoNumber&&N.PoNumber.toLowerCase().includes(d)||N.from&&N.from.toLowerCase().includes(d)||N.dateArrival&&I(N.dateArrival).includes(d)?!0:Array.isArray(N.items)?N.items.some(n=>n.itemName&&n.itemName.toLowerCase().includes(d)||n.quantity&&n.quantity.toString().includes(d)):!1);j(C),y(C.length===0?"No items found":null)}catch(d){console.error("Search error:",d),y("An error occurred while searching")}},300);return()=>clearTimeout(a)},[o,r]);const I=a=>new Date(a).toLocaleDateString(),h=a=>{v(a.target.value)};return m?e.jsx($,{color:"primary",className:"mt-5 w-15 mx-auto justify-content-center"}):r.length===0?e.jsx(A,{color:"warning",className:"text-center mt-5 w-75 mx-auto",children:"No data available"}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"mt-3",children:e.jsxs(X,{className:"w-50 mb-3",children:[e.jsx(H,{type:"text",placeholder:"Search Items...",value:o,id:"searchItem",onChange:h}),e.jsx(Y,{children:e.jsx(O,{icon:G})})]})}),g&&e.jsx(A,{color:"danger",className:"text-center mt-5 w-75 mx-auto",children:g}),p&&e.jsx(A,{color:"danger",className:"text-center mt-5 w-75 mx-auto",children:p}),e.jsx(Se,{className:"m-2 ",children:u.map(a=>e.jsxs(Ae,{children:[e.jsx(ke,{children:e.jsxs("ul",{className:"list-unstyled p-0 m-0 w-100",children:[e.jsxs("li",{children:["From: ",e.jsx("strong",{children:a.from})]}),e.jsxs("li",{children:["Purcahse Order: ",e.jsx("strong",{children:a.PoNumber})]})]})}),e.jsxs(Te,{children:[a.items.map((d,C)=>e.jsx("div",{children:e.jsx(D,{children:`Item name: ${d.itemName} Quantity: (${d.quantity})`})},C)),e.jsxs(D,{children:["Date receive: ",new Date(a.dateArrival).toLocaleDateString()]}),e.jsxs(D,{children:["Received By: ",a.byReceived]}),e.jsxs(D,{children:["Warehouse: ",a.warehouse?a.warehouse.warehouseName:"Unknown"]}),e.jsxs(q,{className:"d-flex justify-content-end mt-3",children:[e.jsx(Re,{warehousing:a,onUpdateItem:c}),w.includes(l)&&e.jsx(qe,{warehousing:a,onDeleteItem:x})]})]})]},a._id))})]})},De=({onAddItem:r,item:m={}})=>{const{showSuccess:g,showError:x}=J(),[c,u]=s.useState("Add Item"),[j,p]=s.useState(!1),[y,o]=s.useState(!1),[v,l]=s.useState(""),[w,I]=s.useState([]),h=new Date().toISOString().split("T")[0],[a,d]=s.useState({from:m.from,items:m.items,PoNumber:m.PoNumber,dateArrival:h,warehouse:"",byReceived:""}),C=t=>{const{id:i,value:f}=t.target;d(S=>({...S,[i]:f}))},N=async t=>{try{return(await E.get(`/api/v1/warehouse/checkPoNumber/${t}`)).data.exists}catch(i){return console.error(i),!1}};s.useEffect(()=>{(async()=>{await N(m.PoNumber)&&u("Already Added")})()},[m.PoNumber]),s.useEffect(()=>{(async()=>{try{const i=await E.get("/api/v1/warehouseLoc/locations");I(i.data.data)}catch(i){l(i.response.data.message),x(i.response.data.message)}})()},[]),m.items&&m.items.map((t,i)=>`${i+1}. Item Name: (${t.itemName})    Quantity: (${t.quantity})`).join(`
`);const n=async t=>{var S,T,F,se;t.preventDefault();const f=JSON.parse(sessionStorage.getItem("user")).email;if(!f){l("User email not found. Please log in again.");return}try{const k=await E.post("/api/v1/warehouse/addItem",{...a,byReceived:f});if(k.data.success){const U=k.data.data,je=w.find(ge=>ge._id===U.warehouse);U.warehouse=je,g(k.data.message),r(U),u("Already Added"),setTimeout(()=>{o(!1),p("")},1500)}else l(k.data.message||"An unexpected error occurred"),x(k.data.message||"An unexpected error occurred")}catch(k){l(((T=(S=k.response)==null?void 0:S.data)==null?void 0:T.message)||k.message),x(((se=(F=k.response)==null?void 0:F.data)==null?void 0:se.message)||k.message)}};return e.jsxs(e.Fragment,{children:[e.jsx(R,{color:"primary",variant:"outline",onClick:()=>o(!0),disabled:c==="Already Added",children:c==="Already Added"?e.jsx("span",{className:"me-1",children:"Already Added"}):e.jsx(O,{icon:we})}),e.jsxs(oe,{visible:y,onClose:()=>o(!1),children:[e.jsx(ie,{children:e.jsx(ce,{children:"Add Item"})}),v&&e.jsx(A,{color:"danger",children:v}),j&&e.jsx(A,{color:"success",children:j}),e.jsx(le,{children:e.jsxs(ne,{children:[e.jsx(H,{type:"text",placeholder:"From",className:"mb-3",floatingLabel:"From",id:"from",onChange:C,value:a.from,required:!0,readOnly:!0}),e.jsx(me,{placeholder:"Items List",className:"mb-3 justify-content-center h-50",floatingLabel:"Items List",id:"items",rows:5,value:Array.isArray(a.items)?a.items.map((t,i)=>`${i+1}. ${t.itemName} (Quantity: ${t.quantity})`).join(`
`):a.items,readOnly:!0}),e.jsxs(ue,{placeholder:"Warehouse",className:"mb-3",floatingLabel:"Warehouse",id:"warehouse",onChange:C,value:a.warehouse,required:!0,children:[e.jsx("option",{value:"",children:"Select Warehouse"}),w.map(t=>e.jsx("option",{value:t._id,children:t.warehouseName},t._id))]})]})}),e.jsxs(de,{children:[e.jsx(R,{color:"secondary",variant:"outline",onClick:()=>o(!1),children:"Close"}),e.jsx(R,{color:"primary",variant:"outline",onClick:n,children:"Add Item"})]})]})]})},Ke=({onAddItem:r})=>{const[m,g]=s.useState([]),[x,c]=s.useState(1),[u,j]=s.useState(null),[p,y]=s.useState(!0),[o,v]=s.useState(""),[l,w]=s.useState([]),I=10,[h,a]=s.useState([{id:1,PoNumber:"123456",from:"Supplier A",items:[{itemName:"Item 1",quantity:10},{itemName:"Item 2",quantity:5}]},{id:2,PoNumber:"563424",from:"Supplier B",items:[{itemName:"Item 1",quantity:8},{itemName:"Item 4",quantity:12},{itemName:"Item 5",quantity:12}]},{id:3,PoNumber:"56323224",from:"Supplier C",items:[{itemName:"Item 6",quantity:8},{itemName:"Item 7",quantity:12},{itemName:"Item 8",quantity:12},{itemName:"Item 9",quantity:12}]},{id:4,PoNumber:"56342234",from:"Supplier D",items:[{itemName:"Item 10",quantity:8},{itemName:"Item 11",quantity:8}]},{id:5,PoNumber:"563433334",from:"Supplier E",items:[{itemName:"Item 12",quantity:8},{itemName:"Item 13",quantity:8},{itemName:"Item 14",quantity:8},{itemName:"Item 15",quantity:8}]}]);if(s.useEffect(()=>{g(h),y(!1)},[]),s.useEffect(()=>{if(o==="")w(m);else{const t=m.filter(i=>{const f=i.PoNumber.toLowerCase().includes(o.toLowerCase()),S=i.from.toLowerCase().includes(o.toLowerCase()),T=i.items.some(F=>F.itemName.toLowerCase().includes(o.toLowerCase()));return f||S||T});w(t),c(1),t.length===0?j("No matching records found."):j(null)}},[o,m]),p)return e.jsx($,{color:"primary",className:"mt-5 w-15 mx-auto justify-content-center"});const d=x*I,C=d-I;m.slice(C,d);const N=Math.ceil(m.length/I),n=t=>{v(t.target.value)};return e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"mt-3",children:e.jsxs(X,{className:"w-50 mb-3",children:[e.jsx(H,{type:"text",placeholder:"Search by PO Number, Supplier, or Item Name",value:o,id:"searchInput",onChange:n}),e.jsx(Y,{children:e.jsx(O,{icon:G})})]})}),e.jsxs(he,{hover:!0,responsive:!0,size:"sm",className:"text-center",children:[e.jsx(fe,{children:e.jsxs(Q,{children:[e.jsx(L,{children:"PO Number"}),e.jsx(L,{children:"From"}),e.jsx(L,{children:"Item Name"}),e.jsx(L,{children:"Quantity"}),e.jsx(L,{children:"Actions"})]})}),e.jsx(xe,{children:l.map((t,i)=>e.jsxs(Q,{children:[e.jsx(P,{className:"text-center",children:t.PoNumber}),e.jsx(P,{children:t.from}),e.jsx(P,{children:t.items.map(f=>e.jsx("div",{children:f.itemName},f.itemName))}),e.jsx(P,{children:t.items.map(f=>e.jsx("div",{children:f.quantity},f.itemName))}),e.jsx(P,{children:e.jsx(De,{onAddItem:r,mockDataReiceving:h,item:t})})]},i))})]}),u&&e.jsx(A,{color:"danger",className:"text-center mt-5 w-75 mx-auto justify-content-center",children:u}),e.jsxs(ye,{align:"center",children:[e.jsx(K,{disabled:x===1,onClick:()=>c(t=>Math.max(t-1,1)),children:"Previous"}),[...Array(N).keys()].map(t=>e.jsx(K,{active:t+1===x,onClick:()=>c(t+1),children:t+1},t+1)),e.jsx(K,{disabled:x===N,onClick:()=>c(t=>Math.min(t+1,N)),children:"Next"})]})]})},We=({items:r,loading:m,error:g})=>{const[x,c]=s.useState([]),[u,j]=s.useState(""),[p,y]=s.useState(null),o=10,[v,l]=s.useState(1),w=n=>{switch(n){case"Stocked":return"success";case"Out of Stock":return"danger";default:return"secondary"}};s.useEffect(()=>{c(r)},[r]),s.useEffect(()=>{if(u==="")c(r),y(null);else{const n=r.filter(t=>{const i=t.itemName.toLowerCase().includes(u.toLowerCase()),f=t.locations.some(S=>{const T=S.warehouse;return T.warehouseName.toLowerCase().includes(u.toLowerCase())||T.address.toLowerCase().includes(u.toLowerCase())});return i||f});c(n),l(1),n.length===0?y("No results found"):y(null)}},[u,r]);const I=n=>{j(n.target.value)},h=n=>{if(!n)return[];const t=new Map;return n.forEach(i=>{const f=i.warehouse._id;if(!t.has(f))t.set(f,{...i.warehouse,quantity:i.quantity,status:i.status||"Stocked"});else{const S=t.get(f);S.quantity+=i.quantity,t.set(f,S)}}),Array.from(t.values())};if(m)return e.jsx($,{color:"primary",className:"text-center mt-5 w-75 mx-auto justify-content-center"});if(g)return e.jsxs(A,{color:"danger",className:"text-center mt-5 w-75 mx-auto justify-content-center",children:["Error: ",g]});const a=v*o,d=a-o,C=x.slice(d,a),N=Math.ceil(x.length/o);return e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"m-3",children:e.jsxs(X,{className:"w-50 mb-3",children:[e.jsx(H,{type:"text",id:"search",value:u,onChange:I,placeholder:"Search by item name or warehouse..."}),e.jsx(Y,{children:e.jsx(O,{icon:G})})]})}),e.jsxs("strong",{className:"m-3 align-self-start",children:["Total Items: ",C.length]}),p?e.jsx(A,{color:"warning",children:p}):e.jsxs(he,{hover:!0,responsive:!0,striped:!0,className:"text-center",children:[e.jsx(fe,{children:e.jsxs(Q,{children:[e.jsx(L,{scope:"col",children:"Item Name"}),e.jsx(L,{scope:"col",children:"Total Quantity"}),e.jsx(L,{scope:"col",children:"Warehouse Locations"}),e.jsx(L,{scope:"col",children:"Status"})]})}),e.jsx(xe,{children:C.map((n,t)=>e.jsxs(Q,{children:[e.jsx(P,{children:n.itemName}),e.jsx(P,{children:e.jsx("strong",{children:n.quantity})}),e.jsx(P,{children:e.jsx(q,{className:"locations-list ",children:h(n.locations).map((i,f)=>e.jsx(q,{className:"location-item",children:e.jsxs(q,{className:"location-details",children:[e.jsx("span",{className:"warehouse-name",children:i.warehouseName}),e.jsx("span",{className:"warehouse-address",children:i.address}),e.jsxs("span",{className:"quantity-badge",children:["Qty: ",i.quantity]})]})},f))})}),e.jsx(P,{children:e.jsx(Ie,{color:w(n.status||(n.quantity>0?"Stocked":"Out of Stock")),children:n.status||(n.quantity>0?"Stocked":"Out of Stock")})})]},n._id||t))})]}),x.length===0&&!p&&e.jsx(A,{color:"warning",className:"text-center mt-5 w-75 mx-auto",children:"No items found."}),e.jsxs(ye,{align:"center",children:[e.jsx(K,{disabled:v===1,onClick:()=>l(n=>Math.max(n-1,1)),children:"Previous"}),[...Array(N).keys()].map(n=>e.jsx(K,{active:n+1===v,onClick:()=>l(n+1),children:n+1},n+1)),e.jsx(K,{disabled:v===N,onClick:()=>l(n=>Math.min(n+1,N)),children:"Next"})]})]})},Oe=`
  .locations-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .location-item {
    display: flex;
    flex-direction: column;
    padding: 8px;
    background-color: #f8f9fa;
    border-radius: 4px;
    width: fit-content;

  }

  .location-details {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 4px;
  }

  .warehouse-name {
    font-weight: 500;
    color: #495057;
  }

  .warehouse-address {
    color: #6c757d;
    font-size: 0.9em;
    font-style: italic;
  }

  .quantity-badge {
    background-color: #e9ecef;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.85em;
    color: #495057;
  }

`,pe=document.createElement("style");pe.innerText=Oe;document.head.appendChild(pe);const nt=()=>{const[r,m]=s.useState([]),[g,x]=s.useState([]),[c,u]=s.useState(!1),[j,p]=s.useState(null),[y,o]=s.useState(0);s.useEffect(()=>{(async()=>{var a,d;u(!0);try{const[C,N]=await Promise.all([E.get("/api/v1/warehouse/items/all"),E.get("/api/v1/warehouse/items")]);C.data.success&&x(C.data.data),N.status===200&&m(N.data.data)}catch(C){p(((d=(a=C.response)==null?void 0:a.data)==null?void 0:d.message)||C.message||"Failed to fetch data")}finally{u(!1)}})()},[y]);const v=()=>{o(h=>h+1)},l=h=>{m(a=>[...a,h]),x(a=>[...a,h]),v()},w=h=>{m(a=>a.filter(d=>d._id!==h)),x(a=>a.filter(d=>d._id!==h)),v()},I=h=>{m(a=>a.map(d=>d._id===h._id?h:d)),x(a=>a.map(d=>d._id===h._id?h:d)),v()};return e.jsx(e.Fragment,{children:e.jsxs(ee,{activeItemKey:"Warehouse Items Details",children:[e.jsxs(te,{variant:"tabs",children:[e.jsx(_,{itemKey:"Warehouse Items Details",children:"Warehouse Items Details"}),e.jsx(_,{itemKey:"For Reiceve",children:"For Reiceve"}),e.jsx(_,{itemKey:"Items",children:"Items"})]}),e.jsxs(Pe,{children:[e.jsx(M,{className:"p-3",itemKey:"Warehouse Items Details",children:e.jsx(Fe,{warehousing:r,loading:c,error:j,onDeleteItem:w,onUpdateItem:I})}),e.jsx(M,{className:"p-3",itemKey:"For Reiceve",children:e.jsxs(ae,{children:[e.jsx(D,{children:"Item Reicevig"}),e.jsx(Ke,{onAddItem:l})]})}),e.jsx(M,{className:"p-3",itemKey:"Items",children:e.jsxs(ae,{children:[e.jsx(D,{children:"Items"}),e.jsx(We,{items:g,loading:c,error:j})]})})]})]})})};export{nt as default};
