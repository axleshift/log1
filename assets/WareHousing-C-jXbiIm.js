import{r as a,R as W,c as V,P as C,_ as G,a as X,u as oe,T as ve,B as Y,j as e,k as Q,A as q,D as be}from"./index-DROWpYL_.js";import{F as O,i as Ce,g as Se,e as Z,a as J,h as Ie}from"./index-CMSYnzFr.js";import{a as A,C as ie}from"./CForm-BCO_fxSv.js";import{a as R}from"./CButton-B9J2LueU.js";import{C as ce,a as le,b as de,c as me,d as ue}from"./CModalTitle-BTa5ve_X.js";import{C as B}from"./CFormInput-Bk8len5H.js";import{C as he}from"./CFormTextarea-D45ScnL2.js";import{C as fe}from"./CFormSelect-CUJJWTLn.js";import{C as T}from"./CContainer-CdWzMoCP.js";import{C as ee,a as se}from"./CInputGroupText-DF8EFEoQ.js";import{C as Ae,a as Le,b as ke,c as Ee}from"./CAccordionHeader-CipZyu_X.js";import{g as Te,C as F,a as Pe}from"./DefaultLayout-B1sY_SSj.js";import{C as xe,a as ye,b as z,c as k,d as pe,e as E}from"./CTable-BQXEh0Q3.js";import{C as je,a as K}from"./CPaginationItem-CBt0pzrw.js";import{g as qe}from"./getTransitionDurationFromElement-Cpu4p4hx.js";import{C as ne}from"./CCard-DQFhcyJv.js";import"./index.esm-DzHzV93o.js";import"./1-CyQxF0Py.js";import"./cil-user-Ddrdy7PS.js";var te=a.createContext({}),ae=a.forwardRef(function(r,h){var g=r.children,x=r.activeItemKey,d=r.className,u=r.onChange,N=a.useId(),p=a.useState(x),y=p[0],c=p[1];return a.useEffect(function(){y&&u&&u(y)},[y]),W.createElement(te.Provider,{value:{_activeItemKey:y,setActiveItemKey:c,id:N}},W.createElement("div",{className:V("tabs",d),ref:h},g))});ae.propTypes={activeItemKey:C.oneOfType([C.number,C.string]).isRequired,children:C.node,className:C.string,onChange:C.func};ae.displayName="CTabs";var M=a.forwardRef(function(r,h){var g=r.children,x=r.className,d=r.itemKey,u=G(r,["children","className","itemKey"]),N=a.useContext(te),p=N._activeItemKey,y=N.setActiveItemKey,c=N.id,v=function(){return d===p};return W.createElement("button",X({className:V("nav-link",{active:v()},x),id:"".concat(c).concat(d,"-tab"),onClick:function(){return y(d)},onFocus:function(){return y(d)},role:"tab",tabIndex:v()?0:-1,type:"button","aria-controls":"".concat(c).concat(d,"-tab-pane"),"aria-selected":v(),ref:h},u),g)});M.propTypes={children:C.node,className:C.string,disabled:C.bool,itemKey:C.oneOfType([C.number,C.string]).isRequired};M.displayName="CTab";var H=a.forwardRef(function(r,h){var g=r.children,x=r.className,d=r.itemKey,u=r.onHide,N=r.onShow,p=r.transition,y=p===void 0?!0:p,c=r.visible,v=G(r,["children","className","itemKey","onHide","onShow","transition","visible"]),i=a.useContext(te),S=i._activeItemKey,I=i.id,f=a.useRef(),t=oe(h,f),m=a.useState(c||S===d),b=m[0],w=m[1];return a.useEffect(function(){c!==void 0&&w(c)},[c]),a.useEffect(function(){w(S===d)},[S]),W.createElement(ve,{in:b,nodeRef:f,onEnter:N,onExit:u,timeout:f.current?qe(f.current):0},function(n){return W.createElement("div",X({className:V("tab-pane",{active:b,fade:y,show:n==="entered"},x),id:"".concat(I).concat(d,"-tab-pane"),role:"tabpanel","aria-labelledby":"".concat(I).concat(d,"-tab"),tabIndex:0,ref:t},v),g)})});H.propTypes={children:C.node,className:C.string,itemKey:C.oneOfType([C.number,C.string]).isRequired,onHide:C.func,onShow:C.func,transition:C.bool,visible:C.bool};H.displayName="CTabPanel";var re=a.forwardRef(function(r,h){var g,x=r.children,d=r.className,u=r.layout,N=r.variant,p=G(r,["children","className","layout","variant"]),y=a.useRef(null),c=oe(h,y),v=function(i){if(y.current!==null&&(i.key==="ArrowDown"||i.key==="ArrowUp"||i.key==="ArrowLeft"||i.key==="ArrowRight"||i.key==="Home"||i.key==="End")){i.preventDefault();var S=i.target,I=Array.from(y.current.querySelectorAll(".nav-link:not(.disabled):not(:disabled)")),f=void 0;i.key==="Home"||i.key==="End"?f=i.key==="End"?I.at(-1):I[0]:f=Te(I,S,i.key==="ArrowDown"||i.key==="ArrowRight",!0),f&&f.focus({preventScroll:!0})}};return W.createElement("div",X({className:V("nav",(g={},g["nav-".concat(u)]=u,g["nav-".concat(N)]=N,g),d),role:"tablist",onKeyDown:v,ref:c},p),x)});re.propTypes={children:C.node,className:C.string,layout:C.oneOf(["fill","justified"]),variant:C.oneOf(["pills","tabs","underline","underline-border"])};re.displayName="CTabList";const Re=({warehousing:r,onDeleteItem:h})=>{const{showError:g,showSuccess:x}=Y(),[d,u]=a.useState(null),[N,p]=a.useState(!1),y=async()=>{p(!0);const c=await q.delete(`/api/v1/warehouse/delete/${r._id}`);c.data.success?(x(c.data.message),h(r._id),p(!1)):(p(!1),u(c.data.message),g(c.data.message))};return d?e.jsxs(A,{color:"danger",className:"text-center mt-5 w-75 mx-auto",children:["Error: ",d.message]}):e.jsx(e.Fragment,{children:e.jsx(R,{color:"danger",variant:"outline",onClick:y,className:"me-2",children:N?e.jsx(Q,{size:"sm"}):e.jsx(O,{icon:Ce})})})},De=({warehousing:r,onUpdateItem:h})=>{const{showSuccess:g,showErrors:x}=Y(),[d,u]=a.useState(null),[N,p]=a.useState(!1),[y,c]=a.useState(null),[v,i]=a.useState(!1),[S,I]=a.useState([]),f=new Date().toISOString().split("T")[0],[t,m]=a.useState({from:r.from||"",items:r.items||"",dateArrival:f,warehouse:r.warehouse||"",warehouseLocDetails:{warehouseName:r.warehouseName||"",address:r.address||""},status:r.status});a.useEffect(()=>{(async()=>{try{const s=await q.get("/api/v1/warehouseLoc/locations");I(s.data.data)}catch(s){u(s.response.data.message),x(s.response.data.message)}})()},[]);const b=n=>{const{id:s,value:o}=n.target;m(j=>{if(["length","width","height"].includes(s)){const l=o===""?"":Math.max(1,Number(o));return{...j,[s]:l}}if(s==="items"){const l=JSON.parse(o);return{...j,items:l}}return{...j,[s]:o}})},w=async n=>{n.preventDefault();const o=JSON.parse(sessionStorage.getItem("user")).email;if(!o){u("User email not found. Please log in again.");return}const j=S.find(l=>l._id===t.warehouse);if(!j){u("Warehouse not found.");return}t.warehouseLocDetails={warehouseName:j.warehouseName,address:j.address},p(!0);try{const l=await q.put(`/api/v1/warehouse/update/${r._id}`,{...t,byReceived:o});if(l.data.success){const L=l.data.data,D=S.find(U=>U._id===L.warehouse);L.warehouse=D,g(l.data.message),h(l.data.data),setTimeout(()=>{c(null),i(!1)},2e3)}}catch(l){u(l.response.data.message),x(l.response.data.message),setTimeout(()=>{u(null)},2e3)}p(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(R,{color:"primary",variant:"outline",className:"me-2",onClick:()=>i(!0),children:N?e.jsx(Q,{size:"sm"}):e.jsx(O,{icon:Se})}),e.jsxs(ce,{visible:v,onClose:()=>i(!1),children:[e.jsx(le,{children:e.jsx(de,{children:"Recieved Items"})}),d&&e.jsx(A,{color:"danger",children:d}),y&&e.jsx(A,{color:"success",children:y}),e.jsx(me,{children:e.jsxs(ie,{children:[e.jsx(B,{type:"text",placeholder:"From",className:"mb-3",floatingLabel:"From",id:"from",onChange:b,value:t.from,required:!0,readOnly:!0}),e.jsx(he,{placeholder:"Items List",className:"mb-3 justify-content-center h-50",floatingLabel:"Items List",id:"items",rows:5,value:Array.isArray(t.items)?t.items.map((n,s)=>`${s+1}. ${n.itemName} (Quantity: ${n.quantity})`).join(`
`):t.items,readOnly:!0}),e.jsxs(fe,{placeholder:"Warehouse",className:"mb-3",floatingLabel:"Warehouse",id:"warehouse",onChange:b,value:t.warehouse||"",required:!0,children:[e.jsx("option",{value:"",children:"Select Warehouse"})," ",S.map(n=>e.jsx("option",{value:n._id,children:n.warehouseName||""},n._id))]})]})}),e.jsxs(ue,{children:[e.jsx(R,{color:"secondary",variant:"outline",onClick:()=>i(!1),children:"Close"}),e.jsx(R,{color:"primary",variant:"outline",onClick:w,children:"Update Item"})]})]})]})},Fe=({warehousing:r,loading:h,error:g,onDeleteItem:x,onUpdateItem:d})=>{const[u,N]=a.useState([]),[p,y]=a.useState(null),[c,v]=a.useState(""),i=be(),S=["manager","admin"];a.useEffect(()=>{const t=setTimeout(()=>{try{if(!c.trim()){N(r),y(null);return}const m=c.toLowerCase().trim(),b=r.filter(w=>w.PoNumber&&w.PoNumber.toLowerCase().includes(m)||w.from&&w.from.toLowerCase().includes(m)||w.dateArrival&&I(w.dateArrival).includes(m)?!0:Array.isArray(w.items)?w.items.some(n=>n.itemName&&n.itemName.toLowerCase().includes(m)||n.quantity&&n.quantity.toString().includes(m)):!1);N(b),y(b.length===0?"No items found":null)}catch(m){console.error("Search error:",m),y("An error occurred while searching")}},300);return()=>clearTimeout(t)},[c,r]);const I=t=>new Date(t).toLocaleDateString(),f=t=>{v(t.target.value)};return h?e.jsx(Q,{color:"primary",className:"mt-5 w-15 mx-auto justify-content-center"}):r.length===0?e.jsx(A,{color:"warning",className:"text-center mt-5 w-75 mx-auto",children:"No data available"}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mt-3",children:e.jsxs(ee,{className:"w-50 mb-3",children:[e.jsx(B,{type:"text",placeholder:"Search Items...",value:c,id:"searchItem",onChange:f}),e.jsx(se,{children:e.jsx(O,{icon:Z})})]})}),g&&e.jsx(A,{color:"danger",className:"text-center mt-5 w-75 mx-auto",children:g}),p&&e.jsx(A,{color:"danger",className:"text-center mt-5 w-75 mx-auto",children:p}),e.jsx(Ae,{className:"m-2 ",children:u.map(t=>e.jsxs(Le,{children:[e.jsx(ke,{children:e.jsxs("ul",{className:"list-unstyled p-0 m-0 w-100",children:[e.jsxs("li",{children:["From:"," ",t.warehouse?e.jsxs("div",{className:"d-inline-flex align-items-center",children:[console.log("Warehouse data:",t.warehouse),t.warehouse.warehouseName,t.warehouse.deleted?e.jsx(J,{color:"danger",className:"ms-2",children:"Deleted"}):null]}):`${t.warehouseLocDetails.warehouseName} [DELETED to database]`]}),e.jsxs("li",{children:["Purcahse Order: ",e.jsx("strong",{children:t.PoNumber})]})]})}),e.jsxs(Ee,{children:[t.items.map((m,b)=>e.jsx("div",{children:e.jsx(F,{children:`Item name: ${m.itemName} Quantity: (${m.quantity})`})},b)),e.jsxs(F,{children:["Date receive: ",new Date(t.dateArrival).toLocaleDateString()]}),e.jsxs(F,{children:["Received By: ",t.byReceived]}),e.jsxs(F,{children:["Warehouse: ",t.warehouse?t.warehouse.warehouseName:"Unknown"]}),e.jsxs(T,{className:"d-flex justify-content-end mt-3",children:[e.jsx(De,{warehousing:t,onUpdateItem:d}),S.includes(i)&&e.jsx(Re,{warehousing:t,onDeleteItem:x})]})]})]},t._id))})]})},Ke=({onAddItem:r,item:h={}})=>{const{showSuccess:g,showError:x}=Y(),[d,u]=a.useState("Add Item"),[N,p]=a.useState(!1),[y,c]=a.useState(!1),[v,i]=a.useState(""),[S,I]=a.useState([]),f=new Date().toISOString().split("T")[0],[t,m]=a.useState({from:h.from,items:h.items,PoNumber:h.PoNumber,dateArrival:f,warehouse:"",warehouseLocDetails:{warehouseName:"",address:""},byReceived:""}),b=s=>{const{id:o,value:j}=s.target;m(l=>({...l,[o]:j}))},w=async s=>{try{return(await q.get(`/api/v1/warehouse/checkPoNumber/${s}`)).data.exists}catch(o){return console.error(o),!1}};a.useEffect(()=>{(async()=>{await w(h.PoNumber)&&u("Already Added")})()},[h.PoNumber]),a.useEffect(()=>{(async()=>{try{const o=await q.get("/api/v1/warehouseLoc/locations");I(o.data.data)}catch(o){i(o.response.data.message),x(o.response.data.message)}})()},[]),h.items&&h.items.map((s,o)=>`${o+1}. Item Name: (${s.itemName})    Quantity: (${s.quantity})`).join(`
`);const n=async s=>{var l,L,D,U;s.preventDefault();const j=JSON.parse(sessionStorage.getItem("user")).email;if(!j){i("User email not found. Please log in again.");return}try{if(!t.warehouse){i("Please select a warehouse.");return}const P=S.find($=>$._id===t.warehouse);if(!P){i("Selected warehouse not found.");return}t.warehouseLocDetails={warehouseName:P.warehouseName,address:P.address};const _=await q.post("/api/v1/warehouse/addItem",{...t,byReceived:j});if(_.data.success){const $=_.data.data,ge=S.find(we=>we._id===$.warehouse);$.warehouse=ge,g(_.data.message),r($),u("Already Added"),setTimeout(()=>{c(!1),p("")},1500)}else i(_.data.message||"An unexpected error occurred"),x(_.data.message||"An unexpected error occurred")}catch(P){i(((L=(l=P.response)==null?void 0:l.data)==null?void 0:L.message)||P.message),x(((U=(D=P.response)==null?void 0:D.data)==null?void 0:U.message)||P.message)}};return e.jsxs(e.Fragment,{children:[e.jsx(R,{color:"primary",variant:"outline",onClick:()=>c(!0),disabled:d==="Already Added",children:d==="Already Added"?e.jsx("span",{className:"me-1",children:"Already Added"}):e.jsx(O,{icon:Ie})}),e.jsxs(ce,{visible:y,onClose:()=>c(!1),children:[e.jsx(le,{children:e.jsx(de,{children:"Add Item"})}),v&&e.jsx(A,{color:"danger",children:v}),N&&e.jsx(A,{color:"success",children:N}),e.jsx(me,{children:e.jsxs(ie,{children:[e.jsx(B,{type:"text",placeholder:"From",className:"mb-3",floatingLabel:"From",id:"from",onChange:b,value:t.from,required:!0,readOnly:!0}),e.jsx(he,{placeholder:"Items List",className:"mb-3 justify-content-center h-50",floatingLabel:"Items List",id:"items",rows:5,value:Array.isArray(t.items)?t.items.map((s,o)=>`${o+1}. ${s.itemName} (Quantity: ${s.quantity})`).join(`
`):t.items,readOnly:!0}),e.jsxs(fe,{placeholder:"Warehouse",className:"mb-3",floatingLabel:"Warehouse",id:"warehouse",onChange:b,value:t.warehouse,required:!0,children:[e.jsx("option",{value:"",children:"Select Warehouse"}),S.map(s=>e.jsx("option",{value:s._id,children:s.warehouseName},s._id))]})]})}),e.jsxs(ue,{children:[e.jsx(R,{color:"secondary",variant:"outline",onClick:()=>c(!1),children:"Close"}),e.jsx(R,{color:"primary",variant:"outline",onClick:n,children:"Add Item"})]})]})]})},We=({onAddItem:r})=>{const[h,g]=a.useState([]),[x,d]=a.useState(1),[u,N]=a.useState(null),[p,y]=a.useState(!0),[c,v]=a.useState(""),[i,S]=a.useState([]),I=10,[f,t]=a.useState([{id:1,PoNumber:"123456",from:"Supplier A",items:[{itemName:"Item 1",quantity:10},{itemName:"Item 2",quantity:5}]},{id:2,PoNumber:"563424",from:"Supplier B",items:[{itemName:"Item 1",quantity:8},{itemName:"Item 4",quantity:12},{itemName:"Item 5",quantity:12}]},{id:3,PoNumber:"56323224",from:"Supplier C",items:[{itemName:"Item 6",quantity:8},{itemName:"Item 7",quantity:12},{itemName:"Item 8",quantity:12},{itemName:"Item 9",quantity:12}]},{id:4,PoNumber:"56342234",from:"Supplier D",items:[{itemName:"Item 10",quantity:8},{itemName:"Item 11",quantity:8}]},{id:5,PoNumber:"563433334",from:"Supplier E",items:[{itemName:"Item 12",quantity:8},{itemName:"Item 13",quantity:8},{itemName:"Item 14",quantity:8},{itemName:"Item 15",quantity:8}]}]);if(a.useEffect(()=>{g(f),y(!1)},[]),a.useEffect(()=>{if(c==="")S(h);else{const s=h.filter(o=>{const j=o.PoNumber.toLowerCase().includes(c.toLowerCase()),l=o.from.toLowerCase().includes(c.toLowerCase()),L=o.items.some(D=>D.itemName.toLowerCase().includes(c.toLowerCase()));return j||l||L});S(s),d(1),s.length===0?N("No matching records found."):N(null)}},[c,h]),p)return e.jsx(Q,{color:"primary",className:"mt-5 w-15 mx-auto justify-content-center"});const m=x*I,b=m-I;h.slice(b,m);const w=Math.ceil(h.length/I),n=s=>{v(s.target.value)};return e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mt-3",children:e.jsxs(ee,{className:"w-50 mb-3",children:[e.jsx(B,{type:"text",placeholder:"Search by PO Number, Supplier, or Item Name",value:c,id:"searchInput",onChange:n}),e.jsx(se,{children:e.jsx(O,{icon:Z})})]})}),e.jsxs(xe,{hover:!0,responsive:!0,size:"sm",className:"text-center",children:[e.jsx(ye,{children:e.jsxs(z,{children:[e.jsx(k,{children:"PO Number"}),e.jsx(k,{children:"From"}),e.jsx(k,{children:"Item Name"}),e.jsx(k,{children:"Quantity"}),e.jsx(k,{children:"Actions"})]})}),e.jsx(pe,{children:i.map((s,o)=>e.jsxs(z,{children:[e.jsx(E,{className:"text-center",children:s.PoNumber}),e.jsx(E,{children:s.from}),e.jsx(E,{children:s.items.map(j=>e.jsx("div",{children:j.itemName},j.itemName))}),e.jsx(E,{children:s.items.map(j=>e.jsx("div",{children:j.quantity},j.itemName))}),e.jsx(E,{children:e.jsx(Ke,{onAddItem:r,mockDataReiceving:f,item:s})})]},o))})]}),i.length>0&&e.jsxs(T,{className:"d-flex justify-content-between align-items-center",children:[e.jsxs(T,{children:["Showing ",b+1," to ",Math.min(m,i.length)," of"," ",i.length," entries"]}),e.jsxs(je,{className:"mt-3",children:[e.jsx(K,{disabled:x===1,onClick:()=>d(s=>Math.max(s-1,1)),children:"Previous"}),[...Array(w).keys()].map(s=>e.jsx(K,{active:s+1===x,onClick:()=>d(s+1),children:s+1},s+1)),e.jsx(K,{disabled:x===w,onClick:()=>d(s=>Math.min(s+1,w)),children:"Next"})]})]}),u&&e.jsx(A,{color:"danger",className:"text-center mt-5 w-75 mx-auto justify-content-center",children:u})]})},Oe=({items:r,loading:h,error:g})=>{const[x,d]=a.useState([]),[u,N]=a.useState(""),[p,y]=a.useState(null),c=10,[v,i]=a.useState(1),S=n=>{switch(n){case"Stocked":return"success";case"Out of Stock":return"danger";default:return"secondary"}};a.useEffect(()=>{d(r)},[r]),a.useEffect(()=>{if(u==="")d(r),y(null);else{const n=r.filter(s=>{const o=s.itemName.toLowerCase().includes(u.toLowerCase()),j=s.locations.some(l=>{const L=l.warehouse;return L.warehouseName.toLowerCase().includes(u.toLowerCase())||L.address.toLowerCase().includes(u.toLowerCase())});return o||j});d(n),i(1),n.length===0?y("No results found"):y(null)}},[u,r]);const I=n=>{N(n.target.value)},f=n=>{if(!n||!Array.isArray(n))return[];const s=new Map;return n.forEach(o=>{if(!(o!=null&&o.warehouse))return;const j=o.warehouse._id||"deleted";if(!s.has(j))s.set(j,{warehouse:{...o.warehouse,deleted:o.warehouse.deleted||!o.warehouse._id},quantity:o.quantity||0});else{const l=s.get(j);l.quantity+=o.quantity||0,s.set(j,l)}}),Array.from(s.values())};if(h)return e.jsx(Q,{color:"primary",className:"text-center mt-5 w-75 mx-auto justify-content-center"});if(g)return e.jsxs(A,{color:"danger",className:"text-center mt-5 w-75 mx-auto justify-content-center",children:["Error: ",g]});const t=v*c,m=t-c,b=x.slice(m,t),w=Math.ceil(x.length/c);return e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"m-3",children:e.jsxs(ee,{className:"w-50 mb-3",children:[e.jsx(B,{type:"text",id:"search",value:u,onChange:I,placeholder:"Search by item name or warehouse..."}),e.jsx(se,{children:e.jsx(O,{icon:Z})})]})}),e.jsxs("strong",{className:"m-3 align-self-start",children:["Total Items: ",b.length]}),p?e.jsx(A,{color:"warning",children:p}):e.jsxs(xe,{hover:!0,responsive:!0,striped:!0,className:"text-center",children:[e.jsx(ye,{children:e.jsxs(z,{children:[e.jsx(k,{scope:"col",children:"Item Name"}),e.jsx(k,{scope:"col",children:"Total Quantity"}),e.jsx(k,{scope:"col",children:"Warehouse Locations"}),e.jsx(k,{scope:"col",children:"Status"})]})}),e.jsx(pe,{children:b.map((n,s)=>e.jsxs(z,{children:[e.jsx(E,{children:n.itemName}),e.jsx(E,{children:e.jsx("strong",{children:n.quantity})}),e.jsx(E,{children:e.jsx(T,{className:"locations-list",children:f(n.locations).map((o,j)=>{const l=o.warehouse;return e.jsx(T,{className:"location-item",children:e.jsxs(T,{className:"location-details",children:[e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("span",{className:"warehouse-name",children:(l==null?void 0:l.warehouseName)||"Unknown Warehouse"}),e.jsx(J,{color:l!=null&&l.deleted?"danger":"success",className:"ms-2",children:l!=null&&l.deleted?"Deleted":"Active"})]}),e.jsx("span",{className:"warehouse-address",children:(l==null?void 0:l.address)||"No address available"}),e.jsxs("span",{className:"quantity-badge",children:["Qty: ",o.quantity]})]})},(l==null?void 0:l._id)||`deleted-${j}`)})})}),e.jsx(E,{children:e.jsx(J,{color:S(n.status||(n.quantity>0?"Stocked":"Out of Stock")),children:n.status||(n.quantity>0?"Stocked":"Out of Stock")})})]},n._id||s))})]}),x.length===0&&!p&&e.jsx(A,{color:"warning",className:"text-center mt-5 w-75 mx-auto",children:"No items found."}),e.jsxs(je,{align:"center",children:[e.jsx(K,{disabled:v===1,onClick:()=>i(n=>Math.max(n-1,1)),children:"Previous"}),[...Array(w).keys()].map(n=>e.jsx(K,{active:n+1===v,onClick:()=>i(n+1),children:n+1},n+1)),e.jsx(K,{disabled:v===w,onClick:()=>i(n=>Math.min(n+1,w)),children:"Next"})]})]})},_e=`
  .locations-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .location-item {
    display: flex;
    flex-direction: column;
    padding: 8px;
    background-color: #f8f9fa;
    border-radius: 4px;
    width: fit-content;

  }

  .location-details {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 4px;
  }

  .warehouse-name {
    font-weight: 500;
    color: #495057;
  }

  .warehouse-address {
    color: #6c757d;
    font-size: 0.9em;
    font-style: italic;
  }

  .quantity-badge {
    background-color: #e9ecef;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.85em;
    color: #495057;
  }

`,Ne=document.createElement("style");Ne.innerText=_e;document.head.appendChild(Ne);const os=()=>{const[r,h]=a.useState([]),[g,x]=a.useState([]),[d,u]=a.useState(!1),[N,p]=a.useState(null),[y,c]=a.useState(0);a.useEffect(()=>{(async()=>{var t,m;u(!0);try{const[b,w]=await Promise.all([q.get("/api/v1/warehouse/items/all"),q.get("/api/v1/warehouse/items")]);b.data.success&&x(b.data.data),w.status===200&&h(w.data.data)}catch(b){p(((m=(t=b.response)==null?void 0:t.data)==null?void 0:m.message)||b.message||"Failed to fetch data")}finally{u(!1)}})()},[y]);const v=()=>{c(f=>f+1)},i=f=>{h(t=>[...t,f]),x(t=>[...t,f]),v()},S=f=>{h(t=>t.filter(m=>m._id!==f)),x(t=>t.filter(m=>m._id!==f)),v()},I=f=>{h(t=>t.map(m=>m._id===f._id?f:m)),x(t=>t.map(m=>m._id===f._id?f:m)),v()};return e.jsx(e.Fragment,{children:e.jsxs(ae,{activeItemKey:"Warehouse Items Details",children:[e.jsxs(re,{variant:"tabs",children:[e.jsx(M,{itemKey:"Warehouse Items Details",children:"Warehouse Items Details"}),e.jsx(M,{itemKey:"For Reiceve",children:"For Reiceve"}),e.jsx(M,{itemKey:"Items",children:"Items"})]}),e.jsxs(Pe,{children:[e.jsx(H,{className:"p-3",itemKey:"Warehouse Items Details",children:e.jsx(Fe,{warehousing:r,loading:d,error:N,onDeleteItem:S,onUpdateItem:I})}),e.jsx(H,{className:"p-3",itemKey:"For Reiceve",children:e.jsxs(ne,{children:[e.jsx(F,{children:"Item Reicevig"}),e.jsx(We,{onAddItem:i})]})}),e.jsx(H,{className:"p-3",itemKey:"Items",children:e.jsxs(ne,{children:[e.jsx(F,{children:"Items"}),e.jsx(Oe,{items:g,loading:d,error:N})]})})]})]})})};export{os as default};
